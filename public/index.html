<!-- http://www.brucelawson.co.uk/2010/a-minimal-html5-document/ -->

<!doctype html>
<html lang=en>
<head>
    <meta charset=utf-8>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vimeo Thumbnail Server</title>

    <meta name="Description" content="A quick way to get Vimeo Thumbnails with just an ID">

    
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    <link rel="preconnect" href="https://www.googletagmanager.com" crossorigin>
    
    <!--   Tailwind   -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@1.4.6/dist/base.min.css" /> 
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@1.4.6/dist/utilities.min.css" /> 
    
</head>
<body>

    <div
        id="app"
        class="flex justify-center px-6"
    >

        <main
            class="w-full py-16"
            style="max-width: 960px;"
        >

            <section class="text-center pb-16">
                A quick way to get Vimeo Thumbnails with just an ID. 
            </section>



            <section class="flex justify-center text-center pb-16">
                <div>

                    <label>
                        <div>
                            Enter your Vimeo Video ID
                        </div>
                        <input
                            v-model="vimeoId"
                            class="border rounded p-3"
                        />
                        <div>
                            <button
                                @click="vimeoId = '12714406'"
                            >Dad Life</button>
                        </div>
                    </label>

                </div>
            </section>
    
    
            <section class="pb-16">
                <div
                    v-for="item in mappedItems"
                    :key="item.heading"
                    class="pb-16"
                >
                    <h2 class="text-4xl">{{ item.heading }}</h2>
                    <img
                        :src="item.imageSrc"
                        :alt="item.imageAlt"
                    />

                    <br>

                    <h3 class="text-xl pb-4">Image URL</h3>
                    <code
                        class="block bg-gray-300 rounded p-3"
                        style="word-break: break-all;"
                    >
                        {{ item.imageSrc }}
                    </code>

                    <div class="py-5 -mx-2">

                        <div class="inline p-3 text-blue-800">
                            <button
                                class="copy"
                                :data-clipboard-text="item.imageSrc"
                            >Copy</button>
                        </div>
    
                        <div class="inline p-3 text-blue-800">
                            <a
                                :href="item.imageSrc"
                                :title="`View ${item.heading}`"
                            >View</a>
                        </div>

                    </div>
        
        
                    <br>
                    <br>
                    <br>
                </div>
            </section>

        </main>

    </div>
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-28434239-20"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-28434239-20');
    </script>

    <!--   Vue   -->
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    
    <!--   Clipboard   -->
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
    
    
    <!--   Main   -->
    <script type="text/javascript">

        var app = new Vue({
            el: '#app',
            data: {
                vimeoId: '358629078',
                items: [
                    {
                        heading: 'JPG Example',
                        imageSrcTemplate: `/{vimeoId}.jpg`,
                        imageAlt: 'Regular Thumbnail Example'
                    },
                    {
                        heading: 'JPG Large Example',
                        imageSrcTemplate: `/{vimeoId}_large.jpg`,
                        imageAlt: 'Large Thumbnail Example'
                    },
                    {
                        heading: 'JPG Medium Example',
                        imageSrcTemplate: `/{vimeoId}_medium.jpg`,
                        imageAlt: 'Medium Thumbnail Example'
                    },
                    {
                        heading: 'JPG Small Example',
                        imageSrcTemplate: `/{vimeoId}_small.jpg`,
                        imageAlt: 'Small Thumbnail Example'
                    }
                ]
            },
            computed: {
                mappedItems () {
                    return this.items.map(item => {
                        // console.log('item', item)
                        // console.log('item.imageSrcTemplate', item.imageSrcTemplate)

                        item.imageSrc = `${window.location.protocol}//${window.location.host}` + item.imageSrcTemplate.replace('{vimeoId}', this.vimeoId)

                        return item
                    })
                }
            },
            methods: {
                // copyImageUrl ( event ) {
                //     const { copyUrl } = event.target.dataset

                //     console.log('Copying', copyUrl)
                //     const clipboard = new ClipboardJS(event.target, {
                //         // text: (trigger) => {
                //         //     return copyUrl
                //         // }
                //     })

                //     // clipboard.target(event.target)

                //     clipboard.action('copy')

                //     console.log('clipboard', clipboard)

                // }
            },
            mounted () {
                // This may break on the next render
                new ClipboardJS('.copy')
            }
        });
    
    </script>
    
</body>
</html>
