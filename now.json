{
    "version": 2,
    "builds": [
        { "src": "index.html", "use": "@now/static" },
        { "src": "video.js", "use": "@now/node" },
        { "src": "video-details.js", "use": "@now/node" },
        { "src": "video-embed.js", "use": "@now/node" }
    ],
    "functions": {
      "api/**/*.{j,t}s": {
        "runtime": "now-deno@0.4.0"
      }
    },
    "routes": [
        {
            "src": "/",
            "headers": {"cache-control": "s-maxage=86400, stale-while-revalidate"},
            "dest": "index.html"
        },
        {
            "src": "/(?<vimeoId>[^/]*)_small.jpg",
            "headers": {"cache-control": "s-maxage=86400, stale-while-revalidate"},
            "dest": "/video.js?id=$vimeoId&key=thumbnail_small"
        },
        {
            "src": "/(?<vimeoId>[^/]*)_medium.jpg",
            "headers": {"cache-control": "s-maxage=86400, stale-while-revalidate"},
            "dest": "/video.js?id=$vimeoId&key=thumbnail_medium"
        },
        {
            "src": "/(?<vimeoId>[^/]*)_large.jpg",
            "headers": {"cache-control": "s-maxage=86400, stale-while-revalidate"},
            "dest": "/video.js?id=$vimeoId&key=thumbnail_large"
        },
        {
            "src": "/(?<vimeoId>[^/]*).jpg",
            "headers": {"cache-control": "s-maxage=86400, stale-while-revalidate"},
            "dest": "/video.js?id=$vimeoId&key=thumbnail_large"
        },
        {
            "src": "/(?<vimeoId>[^/]*)",
            "headers": {"cache-control": "s-maxage=86400, stale-while-revalidate"},
            "dest": "/video.js?id=$vimeoId"
        }
    ]
}